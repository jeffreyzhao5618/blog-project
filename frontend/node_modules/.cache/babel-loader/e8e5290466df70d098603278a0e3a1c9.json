{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/home/jeffrey/Code/react/blog-project/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jeffrey/Code/react/blog-project/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/jeffrey/Code/react/blog-project/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jeffrey/Code/react/blog-project/frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import{React,Component}from\"react\";import{Redirect}from\"react-router-dom\";import axios from\"axios\";import{SERVER_URL}from\"../../config\";var AdminLogin=/*#__PURE__*/function(_Component){_inherits(AdminLogin,_Component);var _super=_createSuper(AdminLogin);function AdminLogin(props){var _this;_classCallCheck(this,AdminLogin);_this=_super.call(this,props);_this.login=function(){axios.post(\"\".concat(SERVER_URL,\"/admin/login\"),{username:_this.state.username,password:_this.state.password},{withCredentials:true}).then(function(res){if(res.data.success){_this.setState({redirect:true});}else{_this.setState({username:\"\",password:\"\"});alert(\"Login Failed\");}});};_this.changeUsernameHandler=function(event){_this.setState({username:event.target.value});};_this.changePasswordHandler=function(event){_this.setState({password:event.target.value});};_this.state={username:\"\",password:\"\",redirect:false};// this.login = this.login.bind();\n// this.changeUsernameHandler = this.changeUsernameHandler.bind();\n// this.changePasswordHandler = this.changePasswordHandler.bind();\nreturn _this;}_createClass(AdminLogin,[{key:\"render\",value:function render(){if(this.state.redirect){return/*#__PURE__*/_jsx(Redirect,{to:\"/admin\"});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"card mt-5 w-50 mx-auto\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputUsername\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"inputUsername\",autoComplete:\"username\",placeholder:\"Username\",value:this.state.username,onChange:this.changeUsernameHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputPassword\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"inputPassword\",autoComplete:\"current-password\",placeholder:\"Password\",value:this.state.password,onChange:this.changePasswordHandler})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary mt-3\",onClick:this.login,children:\"Log In\"})]})});}}}]);return AdminLogin;}(Component);export default AdminLogin;","map":{"version":3,"sources":["/home/jeffrey/Code/react/blog-project/frontend/src/components/admin/AdminLogin.js"],"names":["React","Component","Redirect","axios","SERVER_URL","AdminLogin","props","login","post","username","state","password","withCredentials","then","res","data","success","setState","redirect","alert","changeUsernameHandler","event","target","value","changePasswordHandler"],"mappings":"4kBAAA,OAASA,KAAT,CAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,cAA3B,C,GAEMC,CAAAA,U,wGACJ,oBAAYC,KAAZ,CAAmB,4CACjB,uBAAMA,KAAN,EADiB,MAcnBC,KAdmB,CAcX,UAAM,CACZJ,KAAK,CACFK,IADH,WAEOJ,UAFP,iBAGI,CACEK,QAAQ,CAAE,MAAKC,KAAL,CAAWD,QADvB,CAEEE,QAAQ,CAAE,MAAKD,KAAL,CAAWC,QAFvB,CAHJ,CAOI,CAAEC,eAAe,CAAE,IAAnB,CAPJ,EASGC,IATH,CASQ,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACC,IAAJ,CAASC,OAAb,CAAsB,CACpB,MAAKC,QAAL,CAAc,CAAEC,QAAQ,CAAE,IAAZ,CAAd,EACD,CAFD,IAEO,CACL,MAAKD,QAAL,CAAc,CAAER,QAAQ,CAAE,EAAZ,CAAgBE,QAAQ,CAAE,EAA1B,CAAd,EACAQ,KAAK,CAAC,cAAD,CAAL,CACD,CACF,CAhBH,EAiBD,CAhCkB,OAkCnBC,qBAlCmB,CAkCK,SAACC,KAAD,CAAW,CACjC,MAAKJ,QAAL,CAAc,CAAER,QAAQ,CAAEY,KAAK,CAACC,MAAN,CAAaC,KAAzB,CAAd,EACD,CApCkB,OAsCnBC,qBAtCmB,CAsCK,SAACH,KAAD,CAAW,CACjC,MAAKJ,QAAL,CAAc,CAAEN,QAAQ,CAAEU,KAAK,CAACC,MAAN,CAAaC,KAAzB,CAAd,EACD,CAxCkB,CAGjB,MAAKb,KAAL,CAAa,CACXD,QAAQ,CAAE,EADC,CAEXE,QAAQ,CAAE,EAFC,CAGXO,QAAQ,CAAE,KAHC,CAAb,CAMA;AACA;AACA;AAXiB,aAYlB,C,8DA8BQ,CACP,GAAI,KAAKR,KAAL,CAAWQ,QAAf,CAAyB,CACvB,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAP,CACD,CAFD,IAEO,CACL,mBACE,YAAK,SAAS,CAAC,wBAAf,uBACE,cAAM,SAAS,CAAC,WAAhB,wBACE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,eAAf,sBADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,eAHL,CAIE,YAAY,CAAC,UAJf,CAKE,WAAW,CAAC,UALd,CAME,KAAK,CAAE,KAAKR,KAAL,CAAWD,QANpB,CAOE,QAAQ,CAAE,KAAKW,qBAPjB,EAFF,GADF,cAaE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,eAAf,sBADF,cAEE,cACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,eAHL,CAIE,YAAY,CAAC,kBAJf,CAKE,WAAW,CAAC,UALd,CAME,KAAK,CAAE,KAAKV,KAAL,CAAWC,QANpB,CAOE,QAAQ,CAAE,KAAKa,qBAPjB,EAFF,GAbF,cAyBE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,sBAFZ,CAGE,OAAO,CAAE,KAAKjB,KAHhB,oBAzBF,GADF,EADF,CAqCD,CACF,C,wBArFsBN,S,EAwFzB,cAAeI,CAAAA,UAAf","sourcesContent":["import { React, Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { SERVER_URL } from \"../../config\";\n\nclass AdminLogin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      redirect: false,\n    };\n\n    // this.login = this.login.bind();\n    // this.changeUsernameHandler = this.changeUsernameHandler.bind();\n    // this.changePasswordHandler = this.changePasswordHandler.bind();\n  }\n\n  login = () => {\n    axios\n      .post(\n        `${SERVER_URL}/admin/login`,\n        {\n          username: this.state.username,\n          password: this.state.password,\n        },\n        { withCredentials: true }\n      )\n      .then((res) => {\n        if (res.data.success) {\n          this.setState({ redirect: true });\n        } else {\n          this.setState({ username: \"\", password: \"\" });\n          alert(\"Login Failed\");\n        }\n      });\n  };\n\n  changeUsernameHandler = (event) => {\n    this.setState({ username: event.target.value });\n  };\n\n  changePasswordHandler = (event) => {\n    this.setState({ password: event.target.value });\n  };\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to=\"/admin\" />;\n    } else {\n      return (\n        <div className=\"card mt-5 w-50 mx-auto\">\n          <form className=\"card-body\">\n            <div className=\"form-group\">\n              <label htmlFor=\"inputUsername\">Username</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"inputUsername\"\n                autoComplete=\"username\"\n                placeholder=\"Username\"\n                value={this.state.username}\n                onChange={this.changeUsernameHandler}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"inputPassword\">Password</label>\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                id=\"inputPassword\"\n                autoComplete=\"current-password\"\n                placeholder=\"Password\"\n                value={this.state.password}\n                onChange={this.changePasswordHandler}\n              />\n            </div>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary mt-3\"\n              onClick={this.login}\n            >\n              Log In\n            </button>\n          </form>\n        </div>\n      );\n    }\n  }\n}\n\nexport default AdminLogin;\n"]},"metadata":{},"sourceType":"module"}