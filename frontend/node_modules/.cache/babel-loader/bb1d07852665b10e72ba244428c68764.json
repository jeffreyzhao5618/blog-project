{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import _classCallCheck from\"/home/jeffrey/Code/react/blog-project/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jeffrey/Code/react/blog-project/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/jeffrey/Code/react/blog-project/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jeffrey/Code/react/blog-project/frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import{Redirect}from\"react-router-dom\";import BlogPostPreviewList from\"./blog-post-preview/BlogPostPreviewList\";import HomeNav from\"./blog-post-preview/HomeNav\";import axios from\"axios\";import{getDate,getTime}from\"../../assets/utils\";import{SERVER_URL}from\"../../config\";import\"./main.css\";var POSTS_PER_PAGE=2;var DoRedirect=function DoRedirect(props){if(!props.redirect){return null;}else{return/*#__PURE__*/_jsx(Redirect,{to:\"/invalid\"});}};var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);var _super=_createSuper(Home);function Home(props){var _this;_classCallCheck(this,Home);_this=_super.call(this,props);_this.state={previewPosts:[// {\n//   id: \"123\",\n//   title: \"Test Post One\",\n//   date: \"01/09/2021\",\n//   time: \"5:52 PM\",\n//   content:\n//     \"blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.\",\n//   tags: [\"one\", \"red\", \"blue\"],\n// },\n// {\n//   id: \"345\",\n//   title: \"Test Post Two\",\n//   date: \"01/09/2021\",\n//   time: \"5:52 PM\",\n//   content:\n//     \"Lorem ipsum bipsumblah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes. mipsum quipsum greetsum meepe meepu beebebe bebebeb ooka agaug the quick fox jumped over the lazy brown dog\",\n//   tags: [\"hello\", \"yellow\"],\n// },\n],count:undefined,redirect:false};return _this;}_createClass(Home,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(DoRedirect,{redirect:this.state.redirect}),/*#__PURE__*/_jsx(BlogPostPreviewList,{posts:this.state.previewPosts}),/*#__PURE__*/_jsx(HomeNav,{posts_per_page:POSTS_PER_PAGE,count:this.state.count})]});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var page=this.props.match.params.page;var index;if(page)index=POSTS_PER_PAGE*(Number(page)-1);else index=0;axios.get(\"\".concat(SERVER_URL,\"/posts/count\")).then(function(res){axios.get(\"\".concat(SERVER_URL,\"/posts/all/recent/\").concat(index,\"/\").concat(POSTS_PER_PAGE)).then(function(posts){if(posts.data.length===0){_this2.setState({redirect:true});}else{var stateArr=[];posts.data.forEach(function(post){stateArr.push({_id:post._id,title:post.title,content:post.content,date:getDate(post.posted_on),time:getTime(post.posted_on),tags:post.tags});});_this2.setState({previewPosts:stateArr,count:res.data.count});}});});}}]);return Home;}(Component);export default Home;","map":{"version":3,"sources":["/home/jeffrey/Code/react/blog-project/frontend/src/components/main/Home.js"],"names":["React","Component","Redirect","BlogPostPreviewList","HomeNav","axios","getDate","getTime","SERVER_URL","POSTS_PER_PAGE","DoRedirect","props","redirect","Home","state","previewPosts","count","undefined","page","match","params","index","Number","get","then","res","posts","data","length","setState","stateArr","forEach","post","push","_id","title","content","date","posted_on","time","tags"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport BlogPostPreviewList from \"./blog-post-preview/BlogPostPreviewList\";\nimport HomeNav from \"./blog-post-preview/HomeNav\";\nimport axios from \"axios\";\nimport { getDate, getTime } from \"../../assets/utils\";\nimport { SERVER_URL } from \"../../config\";\nimport \"./main.css\";\n\nconst POSTS_PER_PAGE = 2;\n\nconst DoRedirect = (props) => {\n  if (!props.redirect) {\n    return null;\n  } else {\n    return <Redirect to=\"/invalid\" />;\n  }\n};\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      previewPosts: [\n        // {\n        //   id: \"123\",\n        //   title: \"Test Post One\",\n        //   date: \"01/09/2021\",\n        //   time: \"5:52 PM\",\n        //   content:\n        //     \"blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.\",\n        //   tags: [\"one\", \"red\", \"blue\"],\n        // },\n        // {\n        //   id: \"345\",\n        //   title: \"Test Post Two\",\n        //   date: \"01/09/2021\",\n        //   time: \"5:52 PM\",\n        //   content:\n        //     \"Lorem ipsum bipsumblah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes.blah blah blah blah this is a lot of text but i dont really know what to talk about I guess it doesn't really matter to anyone except myself who is currently typing out this long string of text hopefully it is long enough and doesn't contain too many spelling mistakes. mipsum quipsum greetsum meepe meepu beebebe bebebeb ooka agaug the quick fox jumped over the lazy brown dog\",\n        //   tags: [\"hello\", \"yellow\"],\n        // },\n      ],\n      count: undefined,\n      redirect: false,\n    };\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <DoRedirect redirect={this.state.redirect} />\n        <BlogPostPreviewList posts={this.state.previewPosts} />\n        <HomeNav posts_per_page={POSTS_PER_PAGE} count={this.state.count} />\n      </React.Fragment>\n    );\n  }\n\n  componentDidMount() {\n    let page = this.props.match.params.page;\n\n    let index;\n    if (page) index = POSTS_PER_PAGE * (Number(page) - 1);\n    else index = 0;\n\n    axios.get(`${SERVER_URL}/posts/count`).then((res) => {\n      axios\n        .get(`${SERVER_URL}/posts/all/recent/${index}/${POSTS_PER_PAGE}`)\n        .then((posts) => {\n          if (posts.data.length === 0) {\n            this.setState({ redirect: true });\n          } else {\n            let stateArr = [];\n            posts.data.forEach((post) => {\n              stateArr.push({\n                _id: post._id,\n                title: post.title,\n                content: post.content,\n                date: getDate(post.posted_on),\n                time: getTime(post.posted_on),\n                tags: post.tags,\n              });\n            });\n            this.setState({ previewPosts: stateArr, count: res.data.count });\n          }\n        });\n    });\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}